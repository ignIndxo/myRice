[Rainmeter]
Update=1000
AccurateText=1
DynamicWindowSize=1

[Variables]
; Same colors as your other widgets
ColorBg=42,56,55,170
ColorText=255,255,255,230
ColorHighlight=212,130,150,255
FontName=Comfortaa

; --- MEASURES ---

[MeasureTrack]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=Title
DefaultValue="Not Playing"

[MeasureArtist]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=Artist
DefaultValue="Artist"

[MeasureAlbumArt]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=Cover
DefaultValue=DefaultCover.png

[MeasurePosition]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=Position

[MeasureDuration]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=Duration

[MeasureProgress]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=Progress

[MeasurePlayState]
Measure=Plugin
Plugin=WebNowPlaying
PlayerType=State
; Switches the icon image file based on state
Substitute="0":"play.png","1":"pause.png","2":"play.png"

; --- STYLES ---

[StyleText]
FontFace=#FontName#
FontColor=#ColorText#
AntiAlias=1
ClipString=1

[StyleBtn]
W=25
H=25
ImageTint=#ColorText#
AntiAlias=1
CursorName=Hand

; --- BACKGROUND ---

[MeterBackground]
Meter=Shape
; Widened slightly to 450 to give more room for text
Shape=Rectangle 0,0,450,165,20 | Fill Color #ColorBg# | StrokeWidth 0

; --- ALBUM ART ---

[MeterArtContainer]
Meter=Shape
Shape=Rectangle 20,22,120,120,22 | Fill Color 255,255,255

[MeterAlbumArt]
Meter=Image
MeasureName=MeasureAlbumArt
Container=MeterArtContainer
X=20
Y=22
W=120
H=120
PreserveAspectRatio=2

; --- TRACK INFO ---

[MeterTrackName]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureTrack
X=155
; Positioned slightly higher
Y=30
W=250
FontSize=14
FontWeight=700
Text="%1"

[MeterArtistName]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureArtist
X=155
; Increased Y distance to stop overlap (from 5r to 25r)
Y=25r
W=250
FontSize=11
FontWeight=400
Text="%1"

; --- PROGRESS BAR ---

[MeterTimePosition]
Meter=String
MeterStyle=StyleText
MeasureName=MeasurePosition
X=155
Y=88
FontSize=9
Text="%1"

[MeterProgressBarBg]
Meter=Shape
X=195
Y=95
Shape=Rectangle 0,0,200,4,2 | Fill Color 255,255,255,30 | StrokeWidth 0

[MeterProgressBarFill]
Meter=Shape
X=195
Y=95
; Bar is 200px wide, so math is ([MeasureProgress]*2)
Shape=Rectangle 0,0,([MeasureProgress]*2),4,2 | Fill Color #ColorHighlight# | StrokeWidth 0
DynamicVariables=1

[MeterTimeDuration]
Meter=String
MeterStyle=StyleText
MeasureName=MeasureDuration
X=405
Y=88
FontSize=9
StringAlign=Left
Text="-%1"

; --- CONTROLS ---

[MeterPrev]
Meter=Image
ImageName=prev.png
MeterStyle=StyleBtn
; Grouped and centered under the progress bar area
X=235
Y=118
LeftMouseUpAction=[!CommandMeasure MeasureTrack "Previous"]

[MeterPlayPause]
Meter=Image
ImageName=[MeasurePlayState]
MeterStyle=StyleBtn
X=35r
; Lifted slightly to look centered with other icons
Y=-5r
W=35
H=35
DynamicVariables=1
LeftMouseUpAction=[!CommandMeasure MeasureTrack "PlayPause"]

[MeterNext]
Meter=Image
ImageName=next.png
MeterStyle=StyleBtn
X=45r
Y=5r
LeftMouseUpAction=[!CommandMeasure MeasureTrack "Next"]

[MeterMenu]
Meter=Image
ImageName=menu.png
MeterStyle=StyleBtn
X=410
Y=25
W=18
H=18
ImageAlpha=120
LeftMouseUpAction=[!SkinCustomMenu]